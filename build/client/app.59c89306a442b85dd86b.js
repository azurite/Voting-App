webpackJsonp([0,3],{0:function(e,t,r){"use strict";function n(){if(window.__PRELOADED_STATE__){if("object"===s(window.__PRELOADED_STATE__))return window.__PRELOADED_STATE__;if("string"==typeof window.__PRELOADED_STATE__)return JSON.parse(window.__PRELOADED_STATE__)}return h}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(1),o=r(30),l=o.createStore,i=r(51),c=r(184),p=c.Router,u=c.browserHistory,d=r(240),m=d.Provider,E=r(259),f=r(574),h=r(582),g=l(f,n());i.render(a.createElement(m,{store:g},a.createElement(p,{history:u},E(g))),document.getElementById("app"))},259:function(e,t,r){"use strict";var n=r(1),s=r(184),a=s.Route,o=s.IndexRoute,l=r(260),i=r(262),c=r(287),p=r(544),u=r(546),d=r(552),m=r(566),E=r(568),f=r(570),h=r(572),g=r(573),P=function(e){var t=function(t,r){var n=e.getState();null===n.user&&r({pathname:"/login"})},r=function(t,r){var n=e.getState();n.user&&r({pathname:"/user/"+n.user.username})},s=function(t,r){var n=e.getState();n.user?(i.post("/api/logout",{}).then(function(){return 0}).catch(console.log),e.dispatch(l.logout()),r({pathname:"/login"})):r({pathname:"/login"})};return n.createElement(a,{path:"/",component:c},n.createElement(o,{component:p}),n.createElement(a,{path:"/polls",component:u}),n.createElement(a,{path:"/polls/:pollId",component:d}),n.createElement(a,{path:"/login",component:m,onEnter:r}),n.createElement(a,{path:"/register",component:E,onEnter:r}),n.createElement(a,{path:"/user/:username",component:f,onEnter:t}),n.createElement(a,{path:"/logout",component:h,onEnter:s}),n.createElement(a,{path:"*",component:g}))};e.exports=P},260:function(e,t,r){"use strict";var n=r(261),s={updateInput:function(e,t){return{type:n.UPDATE_LOGIN_INPUT,input:e,field:t}},toggleEmailForm:function(){return{type:n.TOGGLE_EMAIL_FORM}},requestLogin:function(){return{type:n.REQUEST_LOGIN}},loginSuccess:function(e){return{type:n.LOGIN_SUCCESS,user:e}},loginFailure:function(e){return{type:n.LOGIN_FAILURE,err:e}},logout:function(){return{type:n.LOGOUT}}};e.exports=s},261:function(e,t){"use strict";var r={UPDATE_LOGIN_INPUT:"UPDATE_LOGIN_INPUT",TOGGLE_EMAIL_FORM:"TOGGLE_EMAIL_FORM",REQUEST_LOGIN:"REQUEST_LOGIN",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",FETCH_POLLS:"FETCH_POLLS",FETCH_SUCCESS:"FETCH_SUCCESS",FETCH_ERROR:"FETCH_ERROR",UPDATE_SEARCH:"UPDATE_SEARCH",UPDATE_REGISTER_INPUT:"UPDATE_REGISTER_INPUT",VALIDATE_REGISTER_INPUT:"VALIDATE_REGISTER_INPUT",REGISTER:"REGISTER",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_ERROR:"REGISTER_ERROR",CREATE_POLL:"CREATE_POLL",EDIT_POLL:"EDIT_POLL",UPDATE_POLL_INPUT:"UPDATE_POLL_INPUT",ADD_OPTION:"ADD_OPTION",REMOVE_OPTION:"REMOVE_OPTION",SAVE_EDIT:"SAVE_EDIT",SAVE_SUCCESS:"SAVE_SUCCESS",SAVE_ERROR:"SAVE_ERROR",CANCEL_EDIT:"CANCEL_EDIT",UPDATE_USER_DATA:"UPDATE_USER_DATA",UPDATE_SEARCH_CACHE:"UPDATE_SEARCH_CACHE",DELETE_POLL:"DELETE_POLL",DELETE_SUCCESS:"DELETE_SUCCESS",DELETE_ERROR:"DELETE_ERROR",DELETE_ACCOUNT:"DELETE_ACCOUNT",DELETE_ACCOUNT_ERROR:"DELETE_ACCOUNT_ERROR",PURGE_MEMORY:"PURGE_MEMORY",PRELOAD_POLL:"PRELOAD_POLL",UPDATE_PRELOADED_POLL:"UPDATE_PRELOADED_POLL",VOTE:"VOTE",VOTE_ERROR:"VOTE_ERROR",TOGGLE_DID_VOTE_MSG:"TOGGLE_DID_VOTE_MSG"};e.exports=r},287:function(e,t,r){"use strict";var n=r(1),s=r(240),a=s.connect,o=r(288),l=o.Navbar,i=o.Nav,c=o.NavItem,p=r(540),u=p.LinkContainer,d=p.IndexLinkContainer,m=r(543),E=n.createClass({displayName:"App",propTypes:{children:n.PropTypes.node,user:n.PropTypes.object},dynamicMenu:function(){return this.props.user?n.createElement(i,{pullRight:!0},n.createElement(u,{to:"/logout"},n.createElement(c,{className:"menu-item"},"Logout")),n.createElement(u,{to:"/user/"+this.props.user.username},n.createElement(c,{className:"menu-item"},this.props.user.username))):n.createElement(i,{pullRight:!0},n.createElement(u,{to:"/login"},n.createElement(c,{className:"menu-item"},"Login")),n.createElement(u,{to:"/register"},n.createElement(c,{className:"menu-item"},"Register")))},render:function(){return n.createElement("div",{id:"app-data-root"},n.createElement(l,{className:"navbar-custom"},n.createElement(l.Header,null,n.createElement(l.Brand,{className:"menu-head"},"Voting App"),n.createElement(l.Toggle,null)),n.createElement(l.Collapse,null,n.createElement(i,null,n.createElement(d,{to:"/"},n.createElement(c,{className:"menu-item"},"Home")),n.createElement(u,{to:"/polls"},n.createElement(c,{className:"menu-item"},"Polls"))),this.dynamicMenu())),this.props.children,n.createElement(m,null))}}),f=function(e){return{user:e.user}},h=a(f)(E);e.exports=h},543:function(e,t,r){"use strict";var n=r(1),s=r(288),a=s.Grid,o=s.Row,l=s.Col,i=n.createClass({displayName:"Footer",propTypes:{className:n.PropTypes.string},getDefaultProps:function(){return{className:"row-dark copy"}},render:function(){return n.createElement(a,{fluid:!0},n.createElement(o,{className:this.props.className+" navbar-fixed-bottom"},n.createElement(l,{lg:12,md:12,sm:12,xs:12},n.createElement("a",{href:"https://github.com/MarkoN95",target:"_blank"},"Â© MarkoN95"))))}});e.exports=i},544:function(e,t,r){"use strict";var n=r(1),s=r(288),a=s.Grid,o=s.Row,l=s.Col,i=s.Image,c=r(545),p=n.createClass({displayName:"Home",render:function(){return n.createElement(a,{fluid:!0,className:"container-aug"},n.createElement(o,null,n.createElement(l,{md:8,mdOffset:2},n.createElement(i,{className:"image-center-squared",src:c+"/v-logo.gif",responsive:!0,circle:!0}),n.createElement("h1",{className:"text-primary text-center title"},"Voting App"),n.createElement("div",{className:"line"}))),n.createElement(o,null,n.createElement(l,{md:2,mdOffset:3},n.createElement("h3",{className:"text-center"},"Create Polls")),n.createElement(l,{md:2},n.createElement("h3",{className:"text-center"},"Share Polls")),n.createElement(l,{md:2},n.createElement("h3",{className:"text-center"},"Manage Polls"))),n.createElement(o,{className:"row-space row-dark"},n.createElement(l,{md:4,mdOffset:0,xs:8,xsOffset:2},n.createElement("div",{className:"info-box"},n.createElement("h4",{className:"text-center"},"create"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam"))),n.createElement(l,{md:4,mdOffset:0,xs:8,xsOffset:2},n.createElement("div",{className:"info-box"},n.createElement("h4",{className:"text-center"},"share"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam"))),n.createElement(l,{md:4,mdOffset:0,xs:8,xsOffset:2},n.createElement("div",{className:"info-box"},n.createElement("h4",{className:"text-center"},"manage"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam")))),n.createElement(o,null,n.createElement(l,{md:8,mdOffset:2},n.createElement("h4",{className:"tech-stack text-center"},"Created with the MERN stack"),n.createElement("div",{className:"line"}))),n.createElement(o,{className:"tech"},n.createElement(l,{md:2,sm:6,mdOffset:2,className:"tech-row first"},n.createElement("a",{href:"https://expressjs.com/",target:"_blank"},n.createElement(i,{className:"tech-stack-img express-img",src:c+"/express-logo.png",responsive:!0}))),n.createElement(l,{md:2,sm:6,className:"tech-row"},n.createElement("a",{href:"https://nodejs.org/en/",target:"_blank"},n.createElement(i,{className:"tech-stack-img node-img",src:c+"/nodejs-logo.png",responsive:!0}))),n.createElement(l,{md:2,sm:6,className:"tech-row"},n.createElement("a",{href:"https://www.mongodb.com/",target:"_blank"},n.createElement(i,{className:"tech-stack-img mongo-img",src:c+"/mongodb-logo.png",responsive:!0}))),n.createElement(l,{md:2,sm:6,className:"tech-row"},n.createElement("a",{href:"https://facebook.github.io/react/",target:"_blank"},n.createElement(i,{className:"tech-stack-img react-img",src:c+"/react-hexagon-logo.png",responsive:!0})))))}});e.exports=p},545:function(e,t,r){(function(t){"use strict";e.exports=function(){var e;switch(t&&(e={NODE_ENV:"production"}.npm_lifecycle_event),e){case"dev-server":return"/client/media";default:return"/media"}}()}).call(t,r(132))},546:function(e,t,r){"use strict";function n(e,t,r){h.get(e+g(t)).then(function(e){r(null,e.data)}).catch(function(e){r(e,null)})}var s=r(1),a=r(288),o=a.Grid,l=a.Row,i=a.Col,c=a.Button,p=a.Form,u=a.FormGroup,d=a.FormControl,m=a.InputGroup,E=r(240),f=E.connect,h=r(262),g=r(547),P=r(548),O=r(550),T=r(551),v=s.createClass({displayName:"SearchBar",propTypes:{submitSearch:s.PropTypes.func.isRequired,searchValue:s.PropTypes.string.isRequired,handleChange:s.PropTypes.func.isRequired},render:function(){return s.createElement(l,null,s.createElement(i,{md:6,mdOffset:3,sm:8,smOffset:2,xs:10,xsOffset:1},s.createElement(p,{onSubmit:this.props.submitSearch.bind(this,this.props.searchValue)},s.createElement(u,null,s.createElement(m,null,s.createElement(m.Addon,null,s.createElement("i",{className:"fa fa-search"})),s.createElement(d,{type:"text",placeholder:"Seach Polls",value:this.props.searchValue,onChange:this.props.handleChange}),s.createElement(m.Button,null,s.createElement(c,{type:"submit"},"Go!")))))))}}),_=s.createClass({displayName:"Polls",propTypes:{searchValue:s.PropTypes.string.isRequired,pollData:s.PropTypes.object.isRequired,fetchPolls:s.PropTypes.func.isRequired,updateSearch:s.PropTypes.func.isRequired,children:s.PropTypes.node},renderPolls:function(e){if(e.isFetching)return s.createElement(O,{size:"fa-3x"});if(e.fetchSuccess){var t=e.polldata.map(function(e,t){return s.createElement(i,{key:t,md:6,mdOffset:3,sm:8,smOffset:2,xs:10,xsOffset:1},s.createElement(P,{data:e}))});return 0===t.length?s.createElement(l,null,s.createElement("p",{className:"text-center"},"no results")):s.createElement(l,null,t)}return e.fetchError?s.createElement("p",{className:"text-center"},"Whoops this shouldn't have happend. Please try again"):void 0},render:function(){return s.createElement(o,{fluid:!0,className:"container-aug"},s.createElement(v,{submitSearch:this.props.fetchPolls,searchValue:this.props.searchValue,handleChange:this.props.updateSearch}),this.renderPolls(this.props.pollData))}}),b=function(e){return{searchValue:e.polls.searchBar.search,pollData:e.polls.polls}},y=function(e){return{fetchPolls:function(t,r){r.preventDefault(),e(T.fetchPolls()),n("/api/search",{q:t},function(t,r){return t||r.error?void e(T.fetchError(t||r.error)):void e(T.fetchSuccess(r))})},updateSearch:function(t){e(T.updateSearch(t.target.value))}}},S=f(b,y)(_);e.exports=S},547:function(e,t){"use strict";e.exports=function(e){for(var t="?",r=Object.keys(e),n=0;n<r.length;n++)t+=r[n]+"="+e[r[n]],n<r.length-1&&(t+="&");return t}},548:function(e,t,r){"use strict";var n=r(1),s=r(184),a=s.Link,o=r(549),l=n.createClass({displayName:"Poll",propTypes:{data:n.PropTypes.object.isRequired},render:function(){return n.createElement(a,{to:"/polls/"+this.props.data.id},n.createElement("div",{className:"pollcard"},n.createElement("h3",{className:"text-center"},this.props.data.body.title),n.createElement("span",null,"Created by: "+this.props.data.author),n.createElement("span",{className:"pull-right"},"Created at: "+o(this.props.data.createdAt))))}});e.exports=l},549:function(e,t){"use strict";e.exports=function(e){var t=new Date(e);if("Invalid Date"===t.toString())return"unknown";var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],n=t.getMonth(),s=t.getDate(),a=t.getFullYear();return r[n]+" "+s+" "+a}},550:function(e,t,r){"use strict";var n=r(1),s=r(288),a=s.Row,o=s.Col,l=n.createClass({displayName:"Loading",propTypes:{size:n.PropTypes.string},render:function(){return n.createElement(a,null,n.createElement(o,null,n.createElement("div",{className:"loading-icon"},n.createElement("i",{className:"fa fa-spinner fa-spin "+this.props.size}))))}});e.exports=l},551:function(e,t,r){"use strict";var n=r(261),s={fetchPolls:function(){return{type:n.FETCH_POLLS}},fetchSuccess:function(e){return{type:n.FETCH_SUCCESS,polls:e}},fetchError:function(e){return{type:n.FETCH_ERROR,error:e}},updateSearch:function(e){return{type:n.UPDATE_SEARCH,search:e}}};e.exports=s},552:function(e,t,r){"use strict";function n(e,t,r){P.post(e,t).then(function(e){r(null,e)}).catch(function(e){r(e)})}var s=r(1),a=r(240),o=a.connect,l=r(553),i=l.Chart,c=r(288),p=c.Grid,u=c.Row,d=c.Col,m=c.Button,E=c.Form,f=c.FormControl,h=c.FormGroup,g=c.ControlLabel,P=r(262),O=r(563),T=r(564),v=r(549),_=r(550),b=r(565),y=s.createClass({displayName:"PollDetails",propTypes:{polldata:s.PropTypes.object,didVote:s.PropTypes.bool,username:s.PropTypes.string,submitVote:s.PropTypes.func.isRequired},getInitialState:function(){return{activeOption:""}},componentDidMount:function(){this.setState({activeOption:this.props.polldata.body.options[0].option})},changeOpt:function(e){this.setState({activeOption:e.target.value})},render:function(){var e=this.props.polldata;return e?s.createElement("div",{className:"poll-detail-view"},s.createElement("h2",{className:"text-center"},e.body.title),s.createElement("div",{className:"line"}),s.createElement(E,{onSubmit:this.props.submitVote.bind(this,{id:e.id,username:this.props.username,option:this.state.activeOption}),id:"pollDetail"},s.createElement(h,{controlId:"pollSelect"},s.createElement(g,null,"Select an option"),s.createElement(f,{componentClass:"select",value:this.state.activeOption,onChange:this.changeOpt},e.body.options.map(function(e,t){return s.createElement("option",{key:t,value:e.option},e.option)}))),s.createElement(h,null,s.createElement(m,{className:"vote-btn",type:"submit"},"Vote"),this.props.didVote&&s.createElement("span",{className:"error-msg"},this.props.didVote),s.createElement("a",{className:"btn btn-primary pull-right",href:"https://twitter.com/share",target:"_blank","data-text":"Check out my awesome Poll","data-url":"https://www.votinator.herokuapp.com/polls/"+e.id},s.createElement("i",{className:"fa fa-twitter"})," Share"))),s.createElement("span",null,"Created By: "+e.author),s.createElement("span",{className:"pull-right"},"Created At: "+v(e.createdAt))):s.createElement(b,null)}}),S=s.createClass({displayName:"Poll",propTypes:{params:s.PropTypes.object,polldata:s.PropTypes.object,username:s.PropTypes.string,didVote:s.PropTypes.bool,submitVote:s.PropTypes.func.isRequired},transformPollData:function(){var e=["option","votes"];if(!this.props.polldata)return[e,["no data",0]];var t=this.props.polldata.body.options;if(0===this.props.polldata.body.totalVotes)return[e,["No votes yet",1]];var r=t.map(function(e){return[e.option,e.votes]});return[e].concat(r)},render:function(){return s.createElement(p,{fluid:!0,className:"container-aug"},s.createElement(u,null,s.createElement(d,{className:"poll-container",xs:10,xsOffset:1},s.createElement(d,{md:6,sm:10,xs:10,mdOffset:0,smOffset:1,xsOffset:1},s.createElement("div",{className:"poll-chart-wrapper"},s.createElement(i,{chartType:"PieChart",width:"100%",height:"320px",data:this.transformPollData(),loader:s.createElement(_,{size:"fa-3x"}),options:{title:this.props.polldata?"":"No data can be displayd"}}))),s.createElement(d,{md:5,sm:10,xs:10,mdOffset:0,smOffset:1,xsOffset:1},s.createElement(y,{polldata:this.props.polldata,submitVote:this.props.submitVote,username:this.props.username,didVote:this.props.didVote})))))}}),R=function(e,t){return{polldata:function(){var r=e.polls.polls.polldata.find(function(e){return e.id===t.params.pollId});return!r&&e.user&&(r=e.user.ownPolls.find(function(e){return e.id===t.params.pollId})),!r&&e.preloadedPoll&&(r=e.preloadedPoll),r}(),didVote:e.polls.didVote,username:e.user&&e.user.username}},C=function(e){return{submitVote:function(t,r){r.preventDefault(),O.hasVotedOn(t.username,t.id)?(e(T.toggleDidVoteMsg()),setTimeout(e,2e3,T.toggleDidVoteMsg())):(O.push(t.username,t.id),e(T.vote(t)),n("/api/vote",t,function(t,r){if(t||r.error)return void e(T.voteError(t||r.error))}))}}},N=o(R,C,null,{pure:!1})(S);e.exports=N},563:function(e,t){"use strict";var r={hasStore:function(){if("undefined"!=typeof Storage)try{if(localStorage.setItem("__test_item__","__test_value_"),"__test_value_"===localStorage.getItem("__test_item__"))return localStorage.removeItem("__test_item__"),!0}catch(e){return!1}return!1},push:function(e,t){if(this.hasStore()){var r=localStorage.getItem("_"+e+"_votedPolls");r=r?JSON.parse(r):[],r.push(t),localStorage.setItem("_"+e+"_votedPolls",JSON.stringify(r))}},hasVotedOn:function(e,t){if(this.hasStore()){var r=localStorage.getItem("_"+e+"_votedPolls");r=r?JSON.parse(r):[];var n=r.find(function(e){return e===t});return!!n}return!1},reset:function(e){this.hasStore()&&localStorage.removeItem("_"+e+"_votedPolls")}};e.exports=r},564:function(e,t,r){"use strict";var n=r(261);e.exports={vote:function(e){return{type:n.VOTE,vote:e}},voteError:function(e){return{type:n.VOTE_ERROR,er:e}},toggleDidVoteMsg:function(){return{type:n.TOGGLE_DID_VOTE_MSG,message:"You already voted on this poll"}}}},565:function(e,t,r){"use strict";var n=r(1),s=r(184),a=s.Link,o=r(288),l=o.Button,i=n.createClass({displayName:"PollNotFound",render:function(){return n.createElement("div",{className:"text-center poll-not-found"},n.createElement("h1",null,"Whooops!"),n.createElement("div",{className:"line padd"}),n.createElement("p",null,"The Poll you are looking for doesn't seem to exist in our database"),n.createElement("p",null,"The owner of the Poll probably decided to delete it"),n.createElement("div",{className:"line padd"}),n.createElement(a,{to:"/polls"},n.createElement(l,{className:"accordion btn-responsive",bsSize:"large"},"Check out some other awesome Polls")))}});e.exports=i},566:function(e,t,r){"use strict";function n(e,t,r){h.post(e,t).then(function(e){r(null,e.data)}).catch(function(e){r({message:"invalid username or password"},null)})}var s=r(1),a=r(240),o=a.connect,l=r(288),i=l.Grid,c=l.Row,p=l.Col,u=l.Button,d=l.Form,m=l.FormGroup,E=l.FormControl,f=l.ControlLabel,h=r(262),g=r(567),P=r(260),O=s.createClass({displayName:"EmailForm",propTypes:{isOpen:s.PropTypes.bool.isRequired,username:s.PropTypes.string.isRequired,password:s.PropTypes.string.isRequired,handleChange:s.PropTypes.func.isRequired,handleSubmit:s.PropTypes.func.isRequired,reqPending:s.PropTypes.bool.isRequired,errmsg:s.PropTypes.object},onSubmit:function(e){this.props.handleSubmit(e,this.props.username,this.props.password)},render:function(){return s.createElement("div",{className:this.props.isOpen?"panel show":"panel"},s.createElement(d,{horizontal:!0,onSubmit:this.onSubmit},s.createElement(m,{controlId:"nativeUsername"},s.createElement(p,{componentClass:f,sm:2},"Username"),s.createElement(p,{sm:10},s.createElement(E,{type:"text",placeholder:"Username",value:this.props.username,onChange:this.props.handleChange}))),s.createElement(m,{controlId:"nativePassword"},s.createElement(p,{componentClass:f,sm:2},"Password"),s.createElement(p,{sm:10},s.createElement(E,{type:"password",placeholder:"Password",value:this.props.password,onChange:this.props.handleChange}))),s.createElement(m,null,s.createElement(p,{sm:10,smOffset:2},s.createElement(u,{type:"submit",className:"login-btn"},"Login"),this.props.reqPending?s.createElement("i",{className:"fa fa-spinner fa-spin"}):null,this.props.errmsg?s.createElement("span",{className:"error-msg"},this.props.errmsg.message):null))))}}),T=s.createClass({displayName:"Login",propTypes:{emailOpen:s.PropTypes.bool.isRequired,username:s.PropTypes.string.isRequired,password:s.PropTypes.string.isRequired,handleChange:s.PropTypes.func.isRequired,handleSubmit:s.PropTypes.func.isRequired,toggleEmailForm:s.PropTypes.func.isRequired,login:s.PropTypes.func.isRequired,reqPending:s.PropTypes.bool.isRequired,errmsg:s.PropTypes.object},render:function(){return s.createElement(i,{fluid:!0,className:"container-aug"},s.createElement(c,null,s.createElement(p,{md:4,sm:6,xs:8,mdOffset:4,smOffset:3,xsOffset:2},s.createElement(g,{id:"emailLogin",onClick:this.props.toggleEmailForm},"Log in with Email"),s.createElement(O,{isOpen:this.props.emailOpen,username:this.props.username,password:this.props.password,handleChange:this.props.handleChange,handleSubmit:this.props.handleSubmit,reqPending:this.props.reqPending,errmsg:this.props.errmsg}))))}}),v=function(e){return{emailOpen:e.login.login.emailOpen,username:e.login.emailForm.username,password:e.login.emailForm.password,reqPending:e.login.reqPending,errmsg:e.login.err}},_=function(e,t){return{toggleEmailForm:function(){e(P.toggleEmailForm())},handleChange:function(t){switch(t.target.id){case"nativeUsername":e(P.updateInput(t.target.value,"username"));break;case"nativePassword":e(P.updateInput(t.target.value,"password"))}return!1},handleSubmit:function(r,s,a){r.preventDefault(),e(P.requestLogin());var o={username:s,password:a};n("/api/login",o,function(r,n){return r?void e(P.loginFailure(r)):(e(P.loginSuccess(n)),void t.router.push("/user/"+n.username))})}}},b=o(v,_)(T);e.exports=b},567:function(e,t,r){"use strict";var n=r(1),s=r(288),a=s.Button,o=n.createClass({displayName:"AuthButton",propTypes:{children:n.PropTypes.string,id:n.PropTypes.string,onClick:n.PropTypes.func},render:function(){return n.createElement(a,{id:this.props.id,bsSize:"large",className:"accordion",onClick:this.props.onClick,block:!0},this.props.children)}});e.exports=o},568:function(e,t,r){"use strict";function n(e,t,r){g.post(e,t).then(function(e){r(null,e.data)}).catch(function(e){r(e,null)})}var s=r(1),a=r(240),o=a.connect,l=r(288),i=l.Grid,c=l.Row,p=l.Col,u=l.Button,d=l.Form,m=l.FormGroup,E=l.FormControl,f=l.ControlLabel,h=l.HelpBlock,g=r(262),P=r(567),O=r(569),T=s.createClass({displayName:"Register",propTypes:{getValidationState:s.PropTypes.func.isRequired,email:s.PropTypes.object.isRequired,password:s.PropTypes.object.isRequired,password_confirm:s.PropTypes.object.isRequired,username:s.PropTypes.object.isRequired,userInput:s.PropTypes.object.isRequired,handleChange:s.PropTypes.func.isRequired,validate:s.PropTypes.func.isRequired,handleSubmit:s.PropTypes.func.isRequired,reqPending:s.PropTypes.bool.isRequired,err:s.PropTypes.object},render:function(){return s.createElement(i,{fluid:!0,className:"container-aug"},s.createElement(c,null,s.createElement(p,{md:4,sm:6,xs:8,mdOffset:4,smOffset:3,xsOffset:2},s.createElement(P,null,"Register"),s.createElement(d,{horizontal:!0,id:"registerAccount",onSubmit:this.props.handleSubmit.bind(this,this.props.userInput)},s.createElement(m,{controlId:"registerUsername",validationState:this.props.getValidationState(this.props.username)},s.createElement(p,{componentClass:f,sm:2},"Username"),s.createElement(p,{sm:10},s.createElement(E,{type:"text",placeholder:"Username",value:this.props.username.value,onChange:this.props.handleChange,onBlur:this.props.validate.bind(this,"username")}),this.props.username.isValid===!1?s.createElement(h,null,"No whitespace characters"):null)),s.createElement(m,{controlId:"registerEmail",validationState:this.props.getValidationState(this.props.email)},s.createElement(p,{componentClass:f,sm:2},"Email"),s.createElement(p,{sm:10},s.createElement(E,{type:"email",placeholder:"Email",value:this.props.email.value,onChange:this.props.handleChange,onBlur:this.props.validate.bind(this,"email")}),this.props.email.isValid===!1?s.createElement(h,null,"Invalid Email Address"):null)),s.createElement(m,{controlId:"registerPassword",validationState:this.props.getValidationState(this.props.password)},s.createElement(p,{componentClass:f,sm:2},"Password"),s.createElement(p,{sm:10},s.createElement(E,{type:"password",placeholder:"Password",value:this.props.password.value,onChange:this.props.handleChange,onBlur:this.props.validate.bind(this,"password")}),this.props.password.isValid===!1?s.createElement(h,null,"min 8 characters"):null)),s.createElement(m,{controlId:"registerPasswordConfirm",validationState:this.props.getValidationState(this.props.password_confirm)},s.createElement(p,{sm:10,smOffset:2},s.createElement(E,{type:"password",placeholder:"confirm password",value:this.props.password_confirm.value,onChange:this.props.handleChange,onBlur:this.props.validate.bind(this,"password_confirm")}),this.props.password_confirm.isValid===!1?s.createElement(h,null,"Passwords don't match"):null)),s.createElement(m,null,s.createElement(p,{sm:10,smOffset:2},s.createElement(u,{className:"signup-btn",type:"submit"},"Sign up"),this.props.reqPending?s.createElement("i",{className:"fa fa-spinner fa-spin"}):null,this.props.err?s.createElement("span",{className:"error-msg"},this.props.err.message):null))))))}}),v=function(e){return{getValidationState:function(e){return null===e.isValid?null:e.isValid?"success":"error"},email:e.register.email,password:e.register.password,password_confirm:e.register.password_confirm,username:e.register.username,userInput:e.register,reqPending:e.register.reqPending,err:e.register.err}},_=function(e,t){return{handleChange:function(t){switch(t.target.id){case"registerUsername":e(O.updateInput("username",t.target.value));break;case"registerEmail":e(O.updateInput("email",t.target.value));break;case"registerPassword":e(O.updateInput("password",t.target.value));break;case"registerPasswordConfirm":e(O.updateInput("password_confirm",t.target.value))}},validate:function(t){e(O.validateInput(t))},handleSubmit:function(r,s){s.preventDefault();var a=["username","email","password","password_confirm"],o=!0;for(var l in r)if(r.hasOwnProperty(l)&&~a.indexOf(l)&&r[l].isValid!==!0){o=!1;break}o&&(e(O.register()),n("/api/register",{username:r.username.value,email:r.email.value,password:r.password.value},function(r,n){return r||n.error?void e(O.registerError(r||n.error)):(e(O.registerSuccess(n)),void t.router.push("/user/"+n.username))}))}}},b=o(v,_)(T);e.exports=b},569:function(e,t,r){"use strict";var n=r(261),s={updateInput:function(e,t){return{type:n.UPDATE_REGISTER_INPUT,field:e,input:t}},validateInput:function(e){return{type:n.VALIDATE_REGISTER_INPUT,field:e}},register:function(){return{type:n.REGISTER}},registerSuccess:function(e){return{type:n.REGISTER_SUCCESS,user:e}},registerError:function(e){return{type:n.REGISTER_ERROR,err:e}}};e.exports=s},570:function(e,t,r){"use strict";function n(e,t,r){var n={title:t.title,options:t.options};t.isNewPoll?O.post(e,{polldata:n}).then(function(e){r(null,e.data,"add")}).catch(function(e){r(e)}):(n.id=t.id,O.put(e,{polldata:n}).then(function(e){r(null,e.data,"update")}).catch(function(e){r(e)}))}function s(e,t,r){O.delete(e+T({id:t.id})).then(function(e){r(null,e.data)}).catch(function(e){r(e)})}function a(e,t,r){O.delete(e+T({id:t})).then(function(e){r(null,e.data)}).catch(function(e){r(e)})}var o=r(1),l=r(288),i=l.Grid,c=l.Row,p=l.Col,u=l.Image,d=l.Button,m=l.FormGroup,E=l.InputGroup,f=l.FormControl,h=l.ControlLabel,g=r(240),P=g.connect,O=r(262),T=r(547),v=r(571),_=r(548),b=r(545),y=o.createClass({displayName:"PollEditor",propTypes:{content:o.PropTypes.object,showEditor:o.PropTypes.bool.isRequired,updatePollInput:o.PropTypes.func.isRequired,saveEdit:o.PropTypes.func.isRequired,cancelEdit:o.PropTypes.func.isRequired,removeOption:o.PropTypes.func.isRequired,addOption:o.PropTypes.func.isRequired,isSaving:o.PropTypes.bool.isRequired,err:o.PropTypes.object},handleChange:function(e){switch(e.target.id){case"editPollTitle":this.props.updatePollInput("title",e.target.value);break;case"editPollOption":this.props.updatePollInput("newOption",e.target.value)}return!1},addOption:function(){this.props.addOption(this.props.content.newOption)},render:function(){var e=this;return o.createElement(p,{xs:12},o.createElement("div",{className:this.props.showEditor?"poll-editor show":"poll-editor"},o.createElement(m,null,o.createElement(h,null,"Poll Title"),o.createElement(f,{type:"text",id:"editPollTitle",value:this.props.content.title,onChange:this.handleChange})),o.createElement(m,null,o.createElement(h,null,"Add Option"),o.createElement(E,null,o.createElement(f,{type:"text",id:"editPollOption",value:this.props.content.newOption,onChange:this.handleChange,onKeyPress:function(t){13===t.which&&e.addOption()}}),o.createElement(E.Button,null,o.createElement(d,{onClick:this.addOption},"Add")))),o.createElement("ul",{className:"poll-editor-ul"},this.props.content.options.map(function(t,r){return o.createElement("li",{className:"poll-editor-li",key:r+t.option+t.votes},t.option,o.createElement(d,{onClick:e.props.removeOption.bind(e,t)},o.createElement("i",{className:"fa fa-close"})))})),o.createElement(m,null,o.createElement(d,{className:"editor-btn",onClick:this.props.saveEdit.bind(this,this.props.content)},"Save"),o.createElement(d,{className:"editor-btn",onClick:this.props.cancelEdit},"Cancel"),this.props.isSaving?o.createElement("i",{className:"fa fa-spinner fa-spin"}):this.props.err?o.createElement("span",{className:"error-msg"},this.props.err.message):null)))}}),S=o.createClass({displayName:"User",propTypes:{user:o.PropTypes.object,params:o.PropTypes.object,editDisabled:o.PropTypes.bool.isRequired,deleteDisabled:o.PropTypes.bool.isRequired,createDisabled:o.PropTypes.bool.isRequired,createPoll:o.PropTypes.func.isRequired,editPoll:o.PropTypes.func.isRequired,deletePoll:o.PropTypes.func.isRequired,editorContent:o.PropTypes.object.isRequired,editorOpen:o.PropTypes.bool.isRequired,updatePollInput:o.PropTypes.func.isRequired,saveEdit:o.PropTypes.func.isRequired,cancelEdit:o.PropTypes.func.isRequired,removeOption:o.PropTypes.func.isRequired,addOption:o.PropTypes.func.isRequired,deleteAccount:o.PropTypes.func.isRequired,isSaving:o.PropTypes.bool.isRequired,err:o.PropTypes.object,isDeleting:o.PropTypes.oneOfType([o.PropTypes.bool,o.PropTypes.object]).isRequired,deleteErr:o.PropTypes.object,delAccErr:o.PropTypes.object},renderPolls:function(){var e=this;if(0===this.props.user.ownPolls.length)return o.createElement(p,{xs:12},o.createElement("p",{className:"text-center"},"You dont have any polls"));var t=this.props.isDeleting,r=this.props.deleteErr;return this.props.user.ownPolls.map(function(n,s){return o.createElement(p,{xs:12,key:s,className:"user-poll-cards"},o.createElement(_,{data:n}),o.createElement(d,{className:"pollcard-btn",onClick:e.props.editPoll.bind(e,n),disabled:e.props.editDisabled},"Edit"),o.createElement(d,{className:"pollcard-btn",bsStyle:"danger",onClick:e.props.deletePoll.bind(e,n),disabled:e.props.deleteDisabled},"Delete"),t&&t.id===n.id?o.createElement("i",{className:"fa fa-spinner fa-spin"}):null,r&&r.for===n.id?o.createElement("span",{className:"error-msg"},r.data.message):null)})},render:function(){return o.createElement(i,{fluid:!0,className:"container-aug"},o.createElement(c,null,o.createElement(p,{md:5,mdOffset:1,sm:10,smOffset:1,xs:10,xsOffset:1},o.createElement(c,null,o.createElement(p,{xs:12},o.createElement("h2",{className:"text-center"},"Profile"))),o.createElement("div",{className:"line"}),o.createElement(c,{className:"vertical-align"},o.createElement(p,{sm:6,xs:12},o.createElement(u,{className:"profile-img",src:b+"/avatar-default.png",
responsive:!0,circle:!0})),o.createElement(p,{sm:6,xs:12},o.createElement("h3",null,this.props.user.username))),o.createElement(c,null,o.createElement(p,{xs:12},o.createElement(d,{className:"create-poll-btn",onClick:this.props.createPoll,disabled:this.props.createDisabled},"Create Poll"),o.createElement(d,{className:"create-poll-btn",bsStyle:"danger",onClick:this.props.deleteAccount.bind(this,this.props.user.id),disabled:this.props.deleteDisabled},"Delete Account"),this.props.delAccErr&&o.createElement("span",{className:"error-msg"},this.props.delAccErr.message))),o.createElement(c,null,o.createElement(y,{content:this.props.editorContent,showEditor:this.props.editorOpen,updatePollInput:this.props.updatePollInput,saveEdit:this.props.saveEdit,cancelEdit:this.props.cancelEdit,removeOption:this.props.removeOption,addOption:this.props.addOption,isSaving:this.props.isSaving,err:this.props.err}))),o.createElement(p,{md:5,mdOffset:0,sm:10,smOffset:1,xs:10,xsOffset:1},o.createElement(p,{xs:12},o.createElement("h2",{className:"text-center"},"My Polls"),o.createElement("div",{className:"line"})),this.renderPolls())))}}),R=function(e){return{user:e.user,editorContent:e.profile.editorContent,editorOpen:e.profile.editorOpen,editDisabled:e.profile.editDisabled,deleteDisabled:e.profile.deleteDisabled,createDisabled:e.profile.createDisabled,isSaving:e.profile.isSaving,err:e.profile.err,isDeleting:e.profile.isDeleting,deleteErr:e.profile.deleteErr,delAccErr:e.profile.delAccErr}},C=function(e,t){return{updatePollInput:function(t,r){e(v.updatePollInput(t,r))},createPoll:function(){e(v.createPoll())},editPoll:function(t){e(v.editPoll(t))},deletePoll:function(t){e(v.deletePoll(t.id)),s("/api/polleditor",t,function(r,n){return r||n.error?void e(v.deleteError(r||n.error,t.id)):(e(v.deleteSuccess()),e(v.updateUserData(n)),e(v.updateSearchCache(t,"remove")),void e(v.updatePreloadedPoll(t,"remove")))})},saveEdit:function(t){t.options.length>0&&""!==t.title?(e(v.saveEdit()),n("/api/polleditor",t,function(r,n,s){if(r||n.error)return void e(v.saveError(r||n.error));if(e(v.saveSuccess()),e(v.updateUserData(n)),"update"===s){var a=n.ownPolls.find(function(e){return e.id===t.id});e(v.updateSearchCache(a,"update")),e(v.updatePreloadedPoll(a,"update"))}})):e(v.saveError({message:"You have to add at least 1 option and a title"}))},cancelEdit:function(){e(v.cancelEdit())},removeOption:function(t){e(v.removeOption(t))},addOption:function(t){""!==t.trim()&&e(v.addOption({option:t,votes:0}))},deleteAccount:function(r){a("/api/deleteAccount",r,function(r,n){return r||n.error?void e(v.deleteAccountError(r||n.error)):(t.router.push("/"),e(v.deleteAccount()),void e(v.purgeMemory()))})}}},N=P(R,C,null,{pure:!1})(S);e.exports=N},571:function(e,t,r){"use strict";var n=r(261),s={createPoll:function(){return{type:n.CREATE_POLL}},editPoll:function(e){return{type:n.EDIT_POLL,poll:e}},updatePollInput:function(e,t){return{type:n.UPDATE_POLL_INPUT,field:e,value:t}},addOption:function(e){return{type:n.ADD_OPTION,option:e}},removeOption:function(e){return{type:n.REMOVE_OPTION,option:e}},saveEdit:function(){return{type:n.SAVE_EDIT}},cancelEdit:function(){return{type:n.CANCEL_EDIT}},saveSuccess:function(){return{type:n.SAVE_SUCCESS}},saveError:function(e){return{type:n.SAVE_ERROR,err:e}},deletePoll:function(e){return{type:n.DELETE_POLL,id:e}},deleteSuccess:function(){return{type:n.DELETE_SUCCESS}},deleteError:function(e,t){return{type:n.DELETE_ERROR,err:e,id:t}},updateUserData:function(e){return{type:n.UPDATE_USER_DATA,user:e}},updateSearchCache:function(e,t){return{type:n.UPDATE_SEARCH_CACHE,poll:e,verb:t}},updatePreloadedPoll:function(e,t){return{type:n.UPDATE_PRELOADED_POLL,poll:e,verb:t}},preloadPoll:function(e){return{type:n.PRELOAD_POLL,poll:e}},deleteAccount:function(){return{type:n.DELETE_ACCOUNT}},deleteAccountError:function(e){return{type:n.DELETE_ACCOUNT_ERROR,err:e}}};e.exports=s},572:function(e,t,r){"use strict";var n=r(1),s=n.createClass({displayName:"Logout",render:function(){return n.createElement("p",null,"Successfully logged out")}});e.exports=s},573:function(e,t,r){"use strict";var n=r(1),s=r(288),a=s.Grid,o=s.Row,l=s.Col,i=s.Image,c=r(545),p=n.createClass({displayName:"NotFound",render:function(){return n.createElement(a,{className:"container-aug",fluid:!0},n.createElement(o,null,n.createElement(l,{xs:10,xsOffset:1},n.createElement(i,{src:c+"/404-message.jpg",responsive:!0,className:"center-block"}))))}});e.exports=p},574:function(e,t,r){"use strict";var n=r(575),s=r(576),a=r(577),o=r(578),l=r(580),i=r(581),c=function(e,t){return{polls:n(e.polls,t),login:s(e.login,t),register:a(e.register,t),profile:o(e.profile,t),user:l(e.user,t),preloadedPoll:i(e.preloadedPoll,t)}};e.exports=c},575:function(e,t,r){"use strict";function n(e,t){return new RegExp(e,"i").test(t)}var s=r(261),a=function(e,t){var r,a;switch(t.type){case s.FETCH_POLLS:return Object.assign({},{searchBar:e.searchBar,didVote:e.didVote,polls:{polldata:[],isFetching:!0,fetchSuccess:!1,fetchError:!1}});case s.FETCH_SUCCESS:return Object.assign({},{searchBar:e.searchBar,didVote:e.didVote,polls:{isFetching:!1,fetchSuccess:!0,fetchError:!1,polldata:t.polls}});case s.FETCH_ERROR:return Object.assign({},{searchBar:e.searchBar,didVote:e.didVote,polls:{isFetching:!1,fetchSuccess:!1,fetchError:t.error,polldata:[]}});case s.UPDATE_SEARCH:return Object.assign({},{searchBar:{search:t.search},didVote:e.didVote,polls:e.polls});case s.UPDATE_SEARCH_CACHE:switch(r=Object.assign({},e),t.verb){case"add":n(e.searchBar.search,t.poll.body.title)&&(a=e.polls.concat([t.poll]));break;case"update":a=e.polls.polldata.map(function(e){return e.id===t.poll.id?t.poll:e});break;case"remove":a=e.polls.polldata.filter(function(e){return e.id!==t.poll.id})}return r.polls.polldata=a||r.polls.polldata,r;case s.VOTE:return r=Object.assign({},e),r.polls.polldata=r.polls.polldata.map(function(e){return e.id===t.vote.id?(++e.body.totalVotes,e.body.options=e.body.options.map(function(e){return e.option===t.vote.option&&++e.votes,e}),e):e}),r;case s.TOGGLE_DID_VOTE_MSG:return Object.assign({},e,{didVote:e.didVote?null:t.message});case s.PURGE_MEMORY:return Object.assign({},e,{polls:{polldata:[],isFetching:!1,fetchSuccess:null,fetchError:null}});default:return e}};e.exports=a},576:function(e,t,r){"use strict";var n=r(261),s=function(e,t){switch(t.type){case n.UPDATE_LOGIN_INPUT:return Object.assign({},{login:e.login,emailForm:{username:"username"===t.field?t.input:e.emailForm.username,password:"password"===t.field?t.input:e.emailForm.password},reqPending:e.reqPending,err:e.err});case n.TOGGLE_EMAIL_FORM:return Object.assign({},{login:{emailOpen:!e.login.emailOpen},emailForm:e.emailForm,reqPending:e.reqPending,err:e.err});case n.REQUEST_LOGIN:return Object.assign({},{login:e.login,emailForm:e.emailForm,reqPending:!0,err:null});case n.LOGIN_SUCCESS:return Object.assign({},{login:e.login,emailForm:{username:"",password:""},reqPending:!1,err:null});case n.LOGIN_FAILURE:return Object.assign({},{login:e.login,emailForm:{username:"",password:""},reqPending:!1,err:t.err});case n.LOGOUT:return Object.assign({},{login:e.login,emailForm:e.emailForm,reqPending:e.reqPending,err:e.err});default:return e}};e.exports=s},577:function(e,t,r){"use strict";var n=r(261),s=8,a=function(e,t,r){switch(e){case"email":return""===t?null:/[^\s@]+@[^\s@]+\.[^\s@]+/.test(t);case"password":return""===t?null:t.length>=s;case"password_confirm":return""===t?null:t===r;case"username":return""===t?null:!/\s/g.test(t)}},o=function(e,t){var r;switch(t.type){case n.UPDATE_REGISTER_INPUT:return r=Object.assign({},e),r[t.field].value=t.input,r;case n.VALIDATE_REGISTER_INPUT:return r=Object.assign({},e),r[t.field].isValid=a(t.field,e["password_confirm"===t.field?"password":t.field].value,e.password_confirm.value),r;case n.REGISTER:return r=Object.assign({},e),r.reqPending=!0,r.err=null,r;case n.REGISTER_SUCCESS:return Object.assign({},{email:{value:"",isValid:null},password:{value:"",isValid:null},password_confirm:{value:"",isValid:null},username:{value:"",isValid:null},reqPending:!1,err:null});case n.REGISTER_ERROR:return r=Object.assign({},e),r.reqPending=!1,r.err=t.err,r;default:return e}};e.exports=o},578:function(e,t,r){"use strict";var n=r(261),s=r(579),a=function(e,t){var r;switch(t.type){case n.CREATE_POLL:return Object.assign({},{editorOpen:!0,editorContent:{isNewPoll:!0,id:null,title:"",options:[],newOption:""},editDisabled:!0,deleteDisabled:!0,createDisabled:!0,isSaving:e.isSaving,err:e.err,isDeleting:e.isDeleting,deleteErr:e.deleteErr,delAccError:null});case n.EDIT_POLL:return Object.assign({},{editorOpen:!0,editorContent:{isNewPoll:!1,id:t.poll.id,title:t.poll.body.title,options:s(t.poll.body.options),newOption:""},editDisabled:!0,deleteDisabled:!0,createDisabled:!0,isSaving:e.isSaving,err:e.err,isDeleting:e.isDeleting,deleteErr:e.deleteErr,delAccError:null});case n.UPDATE_POLL_INPUT:return r=Object.assign({},e),r.editorContent={isNewPoll:e.editorContent.isNewPoll,id:e.editorContent.id,options:e.editorContent.options,title:"title"===t.field?t.value:e.editorContent.title,newOption:"newOption"===t.field?t.value:e.editorContent.newOption},r;case n.ADD_OPTION:return r=Object.assign({},e),r.editorContent.options=[t.option].concat(r.editorContent.options),r.editorContent.newOption="",r.err=null,r;case n.REMOVE_OPTION:return r=Object.assign({},e),r.editorContent.options=r.editorContent.options.filter(function(e){return e.option!==t.option.option}),r;case n.SAVE_EDIT:return r=Object.assign({},e),r.isSaving=!0,r.err=null,r;case n.SAVE_SUCCESS:return Object.assign({},{editorOpen:!1,editorContent:{isNewPoll:null,id:null,title:"",options:[],newOption:""},editDisabled:!1,deleteDisabled:!1,createDisabled:!1,isSaving:!1,err:null,isDeleting:e.isDeleting,deleteErr:e.deleteErr,delAccError:e.delAccError});case n.SAVE_ERROR:return Object.assign({},{editorOpen:!0,editorContent:e.editorContent,editDisabled:!0,deleteDisabled:!0,createDisabled:!0,isSaving:!1,err:t.err,isDeleting:e.isDeleting,deleteErr:e.deleteErr,delAccError:e.delAccError});case n.CANCEL_EDIT:return r=Object.assign({},e),r.editorOpen=!1,r.editorContent={isNewPoll:null,id:null,title:"",options:[],newOption:""},r.editDisabled=!1,r.deleteDisabled=!1,r.createDisabled=!1,r.err=null,r;case n.DELETE_POLL:return Object.assign({},e,{editDisabled:!0,deleteDisabled:!0,createDisabled:!0,isDeleting:{id:t.id},deleteErr:null,delAccError:null});case n.DELETE_SUCCESS:return Object.assign({},e,{editDisabled:!1,deleteDisabled:!1,createDisabled:!1,isDeleting:!1,deleteErr:null});case n.DELETE_ERROR:return Object.assign({},e,{editDisabled:!1,deleteDisabled:!1,createDisabled:!1,isDeleting:!1,deleteErr:{for:t.id,data:t.err}});case n.DELETE_ACCOUNT_ERROR:return Object.assign({},e,{delAccError:t.err});default:return e}};e.exports=a},579:function(e,t){"use strict";e.exports=function e(t){for(var e=[],r=0;r<t.length;r++){var n={};for(var s in t[r])t[r].hasOwnProperty(s)&&(n[s]=t[r][s]);e.push(n)}return e}},580:function(e,t,r){"use strict";var n=r(261),s=function(e,t){switch(t.type){case n.LOGIN_SUCCESS:return t.user;case n.REGISTER_SUCCESS:return t.user;case n.LOGOUT:return null;case n.DELETE_ACCOUNT:return null;case n.UPDATE_USER_DATA:return t.user;case n.VOTE:return e?Object.assign({},e,{ownPolls:e.ownPolls.map(function(e){return e.id===t.vote.id?(++e.body.totalVotes,e.body.options=e.body.options.map(function(e){return e.option===t.vote.option&&++e.votes,e}),e):e})}):e;default:return e}};e.exports=s},581:function(e,t,r){"use strict";var n=r(261);e.exports=function(e,t){switch(t.type){case n.UPDATE_PRELOADED_POLL:switch(t.verb){case"remove":return e&&e.id===t.poll.id?null:e;case"update":return e&&e.id===t.poll.id?t.poll:e}break;case n.PRELOAD_POLL:return t.poll;case n.VOTE:return e&&e.id===t.vote.id?Object.assign({},e,{body:{title:e.body.title,totalVotes:e.body.totalVotes+1,options:e.body.options.map(function(e){return e.option===t.vote.option&&++e.votes,e})}}):e;case n.PURGE_MEMORY:return null;default:return e}}},582:function(e,t){"use strict";e.exports={polls:{searchBar:{search:""},didVote:null,polls:{polldata:[],isFetching:!1,fetchSuccess:null,fetchError:null}},login:{login:{emailOpen:!1},emailForm:{username:"",password:""},reqPending:!1,err:null},register:{email:{value:"",isValid:null},password:{value:"",isValid:null},password_confirm:{value:"",isValid:null},username:{value:"",isValid:null},reqPending:!1,err:null},profile:{editorOpen:!1,editorContent:{isNewPoll:null,id:null,title:"",options:[],newOption:""},editDisabled:!1,deleteDisabled:!1,createDisabled:!1,isSaving:!1,err:null,isDeleting:!1,deleteErr:null,delAccError:null},user:null,preloadedPoll:null}}});
//# sourceMappingURL=app.59c89306a442b85dd86b.js.map